<div class="main-menu">
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="title-container">
    <h1 class="game-title">Lemon Brains</h1>
    <div #lemonadeContainer class="lemonade-container"></div>
  </div>
  <div class="description">
    Help the zombies quench their thirst for knowledge! Answer multiple choice
    questions correctly to serve them refreshing lemonade and keep them from
    reaching your stand.
  </div>

  <div class="current-learning">
    Currently Learning:
    <span class="curriculum">{{
      settings.curriculum === "math" ? "Mathematics" : "Portuguese"
    }}</span>
  </div>

  <div class="settings-panel" [class.open]="showSettings">
    <h2>Game Settings</h2>
    <div class="settings-group">
      <h3>Curriculum</h3>
      <p class="difficulty-description">Choose what you want to learn:</p>
      <div class="radio-group">
        <label>
          <input
            type="radio"
            [(ngModel)]="settings.curriculum"
            name="curriculum"
            value="math"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">
            Math
            <small class="difficulty-hint"
              >Practice basic math operations</small
            >
          </span>
        </label>
        <label>
          <input
            type="radio"
            [(ngModel)]="settings.curriculum"
            name="curriculum"
            value="portuguese"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">
            Portuguese
            <small class="difficulty-hint"
              >Learn basic Portuguese vocabulary and phrases</small
            >
          </span>
        </label>
      </div>
    </div>

    <div class="settings-group" *ngIf="settings.curriculum === 'math'">
      <h3>Question Types</h3>
      <div class="checkbox-group">
        <label>
          <input
            type="checkbox"
            [(ngModel)]="settings.questionTypes.addition"
            (change)="updateSettings()"
          />
          Addition
        </label>
        <label>
          <input
            type="checkbox"
            [(ngModel)]="settings.questionTypes.subtraction"
            (change)="updateSettings()"
          />
          Subtraction
        </label>
        <label>
          <input
            type="checkbox"
            [(ngModel)]="settings.questionTypes.multiplication"
            (change)="updateSettings()"
          />
          Multiplication
        </label>
        <label>
          <input
            type="checkbox"
            [(ngModel)]="settings.questionTypes.division"
            (change)="updateSettings()"
          />
          Division
        </label>
      </div>
    </div>

    <div class="settings-group" *ngIf="settings.curriculum === 'math'">
      <h3>Number Ranges</h3>
      <p class="difficulty-description">
        Select which number ranges to include in questions:
      </p>
      <div class="checkbox-group">
        <label>
          <input
            type="checkbox"
            [(ngModel)]="settings.numberRanges.range0to5"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">Numbers 0-5</span>
        </label>
        <label>
          <input
            type="checkbox"
            [(ngModel)]="settings.numberRanges.range5to10"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">Numbers 5-10</span>
        </label>
        <label>
          <input
            type="checkbox"
            [(ngModel)]="settings.numberRanges.range10to20"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">Numbers 10-20</span>
        </label>
      </div>
    </div>

    <div class="settings-group" *ngIf="settings.curriculum === 'portuguese'">
      <h3>Portuguese Topics</h3>
      <div class="checkbox-group">
        <label>
          <input
            type="checkbox"
            [(ngModel)]="settings.portugueseTypes.vocabulary"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">
            Basic Vocabulary
            <small class="difficulty-hint"
              >Common words like house, dog, cat</small
            >
          </span>
        </label>
        <label>
          <input
            type="checkbox"
            [(ngModel)]="settings.portugueseTypes.phrases"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">
            Common Phrases
            <small class="difficulty-hint"
              >Greetings and basic expressions</small
            >
          </span>
        </label>
        <label>
          <input
            type="checkbox"
            [(ngModel)]="settings.portugueseTypes.numbers"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">
            Numbers
            <small class="difficulty-hint">Basic numbers in Portuguese</small>
          </span>
        </label>
        <label>
          <input
            type="checkbox"
            [(ngModel)]="settings.portugueseTypes.colors"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">
            Colors
            <small class="difficulty-hint">Basic colors in Portuguese</small>
          </span>
        </label>
      </div>
    </div>

    <div class="settings-group">
      <h3>Game Difficulty</h3>
      <p class="difficulty-description">
        Choose how challenging the zombies will be:
      </p>
      <div class="radio-group">
        <label>
          <input
            type="radio"
            [(ngModel)]="settings.gameDifficulty"
            name="difficulty"
            value="easy"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">
            Easy
            <small class="difficulty-hint">
              More forgiving with slower zombies and more time between spawns
            </small>
          </span>
        </label>
        <label>
          <input
            type="radio"
            [(ngModel)]="settings.gameDifficulty"
            name="difficulty"
            value="normal"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">
            Normal
            <small class="difficulty-hint">A balanced challenge</small>
          </span>
        </label>
        <label>
          <input
            type="radio"
            [(ngModel)]="settings.gameDifficulty"
            name="difficulty"
            value="hard"
            (change)="updateSettings()"
          />
          <span class="difficulty-label">
            Hard
            <small class="difficulty-hint">
              Intense gameplay with faster, more frequent zombies
            </small>
          </span>
        </label>
      </div>
    </div>
  </div>

  <div class="button-group">
    <button class="settings-button" (click)="toggleSettings()">
      {{ showSettings ? "Hide Settings" : "Show Settings" }}
    </button>
    <button
      class="start-button"
      (click)="onStartGameClick()"
      [disabled]="!isValidSettings()"
    >
      Start Game
    </button>
  </div>
</div>
